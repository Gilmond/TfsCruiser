(function(){var t=new Notifier.Overlay,r,u=60,n=u,e=document.getElementById("bar"),f=document.createElement("li");e.appendChild(f);var i=function(){r=window.setInterval(a,1e3)},o=function(){window.clearInterval(r)},s=function(n){document.getElementById("main").innerHTML=n.responseText,t.alert("Build information updated",Notifier.MessageType.success),i()},h=function(){t.alert("There was a problem obtaining the latest build information",Notifier.MessageType.error),i()},c=function(){var n=document.location.href;return n.indexOf("/Builds/Index")>-1?n.replace("/Index","/Update"):location.protocol+"//"+location.hostname+(location.port&&":"+location.port)+"/Builds/Update"},l=function(){t.alert("Updating...",Notifier.MessageType.success);var n=new Ajax.Request(Http.HttpVerb.GET,c());n.addHttpStatusCallback([200],s),n.addDefaultCallback(h),n.run()},a=function(){n--,f.innerHTML="Next Update: "+n,n===0&&(o(),n=u,l())};i()})()